<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>💬 Player Feedback</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="ehcb-icon.png" type="image/png" />
  <style>
    :root {
      --ehc-blue: #002b5c;
      --ehc-yellow: #ffd600;
      --ehc-red: #d0021b;
      --ehc-white: #fff;
      --ehc-shadow: 0 10px 40px #00183e44;
    }
    html, body {
      margin: 0; padding: 0;
      background: var(--ehc-blue);
      min-height: 100vh;
      font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
      color: var(--ehc-white);
    }
    header {
      text-align: center;
      padding: 32px 0 18px 0;
    }
    .logo {
      width: 80px;
      margin: 0 auto 14px auto;
      display: block;
    }
    h1 {
      font-size: 2.1rem;
      font-weight: 800;
      margin: 0;
      letter-spacing: 2px;
      color: var(--ehc-white);
    }
    .lang-switch {
      display: flex; justify-content: center; gap: 13px; margin: 20px 0 4px 0;
    }
    .lang-switch button {
      background: #eee; color: #002b5c; border: none; font-weight: 700;
      border-radius: 7px; cursor: pointer; padding: 6px 26px 4px 26px; font-size: 1.1rem; transition: background 0.1s, color 0.1s;
    }
    .lang-switch .active {
      background: var(--ehc-yellow); color: var(--ehc-blue); box-shadow: 0 2px 8px #0002;
    }
    .main-content {
      max-width: 500px; margin: 38px auto 0 auto; padding: 0 10px;
    }
    .card {
      background: var(--ehc-blue);
      color: var(--ehc-white);
      border-radius: 28px;
      margin: 0 auto;
      box-shadow: var(--ehc-shadow);
      padding: 38px 30px 28px 30px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      border: 2.8px solid var(--ehc-yellow);
    }
    .card h2 {
      font-size: 1.6rem;
      text-align: center;
      margin-bottom: 16px;
      font-weight: 800;
      color: var(--ehc-yellow);
    }
    label { font-weight:700; margin:6px 0 3px 0; color:var(--ehc-yellow);}
    input, select, textarea {
      width: 100%; font-size: 1.11rem;
      border-radius: 9px; border: 1.3px solid #bbb;
      padding: 7px 10px; margin: 3px 0 9px 0; background: #fff9;
      color: #002b5c;
      font-family: inherit;
      font-weight:600;
    }
    button[type="submit"] {
      background: var(--ehc-red); color: var(--ehc-white); border: none;
      border-radius: 13px; font-weight: 800; font-size: 1.19rem;
      padding: 13px 0; margin-top: 13px; cursor: pointer; transition: background 0.15s;
      box-shadow: 0 2px 7px #0001;
    }
    button[type="submit"]:hover { background: #af0116;}
    #message.success { color: #3bbb2c; font-weight:700; margin-top:12px;}
    #message.error   { color: #b00; font-weight:700; margin-top:12px;}
    .yellow-slogan {
      color: var(--ehc-yellow);
      text-align: center;
      margin: 44px 0 0 0;
      font-size: 1.18rem;
      font-weight: 800;
      letter-spacing: 1.2px;
    }
    .back-link {
      display:block; text-align:center; margin-top:24px; font-size:1.1rem;
      color: var(--ehc-yellow); text-decoration: none; font-weight: bold;
      background: #002b5c; padding: 8px 0; border-radius: 9px; max-width:200px; margin-left:auto; margin-right:auto; border:2px solid #ffd600;
      transition: background .18s, color .18s;
    }
    .back-link:hover { background: #ffd600; color: #002b5c; }
    footer {
      margin-top: 65px;
      background: var(--ehc-blue);
      color: #ffd600;
      text-align: center;
      padding: 13px 0 10px 0;
      font-size: 1.01rem;
      opacity: 0.86;
      border-top: 2px solid var(--ehc-red);
    }
    @media (max-width: 600px) {
      .main-content { padding: 0 2px;}
      .card { font-size: 1.01rem; padding: 15px 4px 13px 4px;}
      .lang-switch { gap: 7px; margin: 13px 0 8px 0;}
      .lang-switch button { padding: 4px 10px 3px 10px; font-size: .98rem;}
      .logo { width: 54px; }
      h1 { font-size: 1.19rem;}
    }
  </style>
</head>
<body>
  <header>
    <img src="wikinger.png" class="logo" alt="Logo" />
    <h1>EHC BIEL-BIENNE U18-ELIT</h1>
    <div class="lang-switch" id="lang-switch">
      <button onclick="changeLanguage('de')" id="btn-de">DE</button>
      <button onclick="changeLanguage('fr')" id="btn-fr">FR</button>
      <button onclick="changeLanguage('en')" id="btn-en">EN</button>
    </div>
  </header>
  <div class="main-content">
    <form id="feedbackForm" class="card" autocomplete="off">
      <h2 id="formTitle">💬 Player Feedback</h2>
      <label for="name" id="labelName">Name *</label>
      <input type="text" id="name" name="name" required />

      <label for="feeling" id="labelFeeling">Wie hast du dich gefühlt?</label>
      <select id="feeling" name="feeling" required></select>

      <label for="intensity" id="labelIntensity">🏋️ Trainingsintensität <small>(1 = locker – 6 = sehr hart)</small></label>
      <select id="intensity" name="intensity" required></select>

      <label for="performance" id="labelPerformance">🎯 Eigene Leistung <small>(1 = sehr schlecht – 6 = top)</small></label>
      <select id="performance" name="performance" required></select>

      <label for="comment" id="labelComment">📝 Kommentar <small>(optional)</small></label>
      <textarea id="comment" name="comment" rows="2"></textarea>

      <button type="submit" id="submitBtn">Abschicken</button>
      <div id="message"></div>
    </form>
    <a class="back-link" href="index.html">← Zurück / Back</a>
  </div>
  <section class="yellow-slogan" id="slogan">
    "OUR STRENGTH IS OUR UNITY!"
  </section>
  <footer>
    © 2025 EHC Biel-Bienne U18-Elit
  </footer>
  <script>
    // Sprachdaten:
    const translations = {
      de: {
        formTitle:"💬 Player Feedback",
        name:"Name *",
        feeling:"Wie hast du dich gefühlt?",
        feelingOptions: [
          {value:"🟢 Top", text:"🟢 Top"},
          {value:"🟡 Okay", text:"🟡 Okay"},
          {value:"🔴 Tired", text:"🔴 Müde"}
        ],
        intensity:"🏋️ Trainingsintensität <small>(1 = locker – 6 = sehr hart)</small>",
        intensityOptions: [
          {value:"1",text:"1"}, {value:"2",text:"2"}, {value:"3",text:"3"},
          {value:"4",text:"4"}, {value:"5",text:"5"}, {value:"6",text:"6"}
        ],
        performance:"🎯 Eigene Leistung <small>(1 = sehr schlecht – 6 = top)</small>",
        performanceOptions: [
          { value: "1", text: "1 – 🔴 sehr schlecht 😩" },
          { value: "2", text: "2 – 🟠 schlecht 😕" },
          { value: "3", text: "3 – 🟡 ok 🙂" },
          { value: "4", text: "4 – 🟢 gut 😁" },
          { value: "5", text: "5 – 🟢🟢 sehr gut 😃" },
          { value: "6", text: "6 – 🟢🟢🟢 ausgezeichnet 💪🔥" }
        ],
        comment:"📝 Kommentar <small>(optional)</small>",
        submit:"Abschicken",
        msg_success:'✅ Feedback übermittelt!',
        msg_error:'❌ Verbindung fehlgeschlagen.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      en: {
        formTitle:"💬 Player Feedback",
        name:"Name *",
        feeling:"How did you feel today?",
        feelingOptions: [
          {value:"🟢 Top", text:"🟢 Top"},
          {value:"🟡 Okay", text:"🟡 Okay"},
          {value:"🔴 Tired", text:"🔴 Tired"}
        ],
        intensity:"🏋️ Training/Game Intensity <small>(1 = easy – 6 = very hard)</small>",
        intensityOptions: [
          {value:"1",text:"1"}, {value:"2",text:"2"}, {value:"3",text:"3"},
          {value:"4",text:"4"}, {value:"5",text:"5"}, {value:"6",text:"6"}
        ],
        performance:"🎯 How was your performance today? <small>(1 = really bad – 6 = excellent)</small>",
        performanceOptions: [
          { value: "1", text: "1 – 🔴 really bad 😩" },
          { value: "2", text: "2 – 🟠 bad 😕" },
          { value: "3", text: "3 – 🟡 ok 🙂" },
          { value: "4", text: "4 – 🟢 good 😁" },
          { value: "5", text: "5 – 🟢🟢 very good 😃" },
          { value: "6", text: "6 – 🟢🟢🟢 excellent 💪🔥" }
        ],
        comment:"📝 Comment <small>(optional)</small>",
        submit:"Submit",
        msg_success:'✅ Feedback submitted!',
        msg_error:'❌ Connection failed. Please try again.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      fr: {
        formTitle:"💬 Feedback Joueur",
        name:"Nom *",
        feeling:"Comment t'es-tu senti aujourd'hui ?",
        feelingOptions: [
          {value:"🟢 Top", text:"🟢 Top"},
          {value:"🟡 Okay", text:"🟡 Bien"},
          {value:"🔴 Tired", text:"🔴 Fatigué"}
        ],
        intensity:"🏋️ Intensité <small>(1 = facile – 6 = très dur)</small>",
        intensityOptions: [
          {value:"1",text:"1"}, {value:"2",text:"2"}, {value:"3",text:"3"},
          {value:"4",text:"4"}, {value:"5",text:"5"}, {value:"6",text:"6"}
        ],
        performance:"🎯 Ta performance aujourd'hui <small>(1 = très mauvais – 6 = excellent)</small>",
        performanceOptions: [
          { value: "1", text: "1 – 🔴 très mauvais 😩" },
          { value: "2", text: "2 – 🟠 mauvais 😕" },
          { value: "3", text: "3 – 🟡 ok 🙂" },
          { value: "4", text: "4 – 🟢 bien 😁" },
          { value: "5", text: "5 – 🟢🟢 très bien 😃" },
          { value: "6", text: "6 – 🟢🟢🟢 excellent 💪🔥" }
        ],
        comment:"📝 Commentaire <small>(optionnel)</small>",
        submit:"Envoyer",
        msg_success:'✅ Feedback envoyé!',
        msg_error:'❌ Connexion échouée.',
        slogan:'"NOTRE FORCE EST NOTRE UNITÉ !"'
      }
    };

    let currentLang = localStorage.getItem('feedback_lang') || 'de';

    function changeLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('feedback_lang', lang);
      document.querySelectorAll('.lang-switch button').forEach(btn => btn.classList.remove('active'));
      document.getElementById('btn-' + lang).classList.add('active');
      const t = translations[lang];

      document.getElementById('formTitle').textContent = t.formTitle;
      document.getElementById('labelName').textContent = t.name;
      document.getElementById('labelFeeling').textContent = t.feeling;

      const selFeeling = document.getElementById('feeling');
      selFeeling.innerHTML = "";
      t.feelingOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selFeeling.appendChild(o);
      });

      document.getElementById('labelIntensity').innerHTML = t.intensity;
      const selIntensity = document.getElementById('intensity');
      selIntensity.innerHTML = "";
      t.intensityOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selIntensity.appendChild(o);
      });

      document.getElementById('labelPerformance').innerHTML = t.performance;
      const selPerformance = document.getElementById('performance');
      selPerformance.innerHTML = "";
      t.performanceOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selPerformance.appendChild(o);
      });

      document.getElementById('labelComment').innerHTML = t.comment;
      document.getElementById('submitBtn').textContent = t.submit;
      document.getElementById('slogan').textContent = t.slogan;
    }
    window.addEventListener('DOMContentLoaded', () => { changeLanguage(currentLang); });

    const form = document.getElementById('feedbackForm');
    const message = document.getElementById('message');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      message.textContent = '';
      const t = translations[currentLang];
      const data = {
        name: form.name.value,
        feeling: form.feeling.value,
        intensity: form.intensity.value,
        performance: form.performance.value,
        comment: form.comment.value
      };
      try {
        await fetch('https://script.google.com/macros/s/AKfycbyiIid-_2rgFMNPLjEdCESNArd4uvsG_s_n2k-C9p58HCBBGgJFFBNxzlVuRnefCaeeBQ/exec', {
          method: 'POST',
          mode: 'no-cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        message.className = "success";
        message.textContent = t.msg_success;
        form.reset();
      } catch (err) {
        message.className = "error";
        message.textContent = t.msg_error;
      }
    });
  </script>
</body>
</html>